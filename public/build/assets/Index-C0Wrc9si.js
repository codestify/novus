import{j as e}from"./ui-vqqFfSzO.js";import{a as x,S as A,x as h,P as g,k as P,F as T,A as N,l as f,m as k,n as F,j as _,o as m}from"./vendor-BFGeaHkk.js";import{A as M,C as B,a as E,b as H,c as z,D as I,h as W,i as O,j as l,k as R,d as L,l as Q}from"./card-CoM3tDin.js";import{B as d}from"./button-BjyeRwdB.js";import{I as q}from"./input-BktS8ObH.js";import{T as G,a as U,b as v,c as i,d as J,e as c}from"./table-C9QjicNN.js";import{A as K,a as V,b as X,c as Y,d as Z,e as $,f as ee,g as se}from"./alert-dialog-BYAAv6KF.js";import{B as j}from"./badge-DRtbR8hh.js";import{P as re}from"./PaginationWrapper-DSqg5NLW.js";import{E as ae}from"./EmptyState-w3UCVyw-.js";import{u as te}from"./app-JU9k0MG1.js";function ge({categories:a,errors:ne,flash:t}){const[u,b]=x.useState(""),[C,o]=x.useState(!1),[r,p]=x.useState(null),n=te(),w=s=>{p(s),o(!0)},y=()=>{r&&m.delete(n("novus.categories.destroy",r.id),{onSuccess:()=>{o(!1),p(null)}})},D=s=>{b(s.target.value)},S=s=>{s.preventDefault(),m.get(n("novus.categories.index"),{search:u},{preserveState:!0})};return e.jsxs(e.Fragment,{children:[e.jsx(A,{title:"Categories"}),e.jsx(M,{children:e.jsxs("div",{className:"py-20",children:[e.jsxs("div",{className:"flex justify-between items-center mb-6",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Categories"}),e.jsx("p",{className:"mt-1 text-muted-foreground",children:"Manage the categories for your content"})]}),e.jsx(d,{asChild:!0,children:e.jsxs(h,{href:n("novus.categories.create"),children:[e.jsx(g,{className:"mr-2 w-4 h-4"}),"New Category"]})})]}),(t==null?void 0:t.success)&&e.jsx("div",{className:"p-4 mb-6 bg-green-50 rounded border-l-4 border-green-400 shadow",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-green-700",children:t.success})})})}),(t==null?void 0:t.error)&&e.jsx("div",{className:"p-4 mb-6 bg-red-50 rounded border-l-4 border-red-400 shadow",children:e.jsx("div",{className:"flex",children:e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm text-red-700",children:t.error})})})}),e.jsxs(B,{className:"shadow-xs rounded-md border-muted",children:[e.jsxs(E,{className:"pb-3",children:[e.jsx(H,{children:"All Categories"}),e.jsx(z,{children:"Create and manage categories to organize your content"})]}),e.jsx("div",{className:"px-6 pt-2 pb-5 border-b",children:e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("form",{onSubmit:S,className:"relative w-72",children:[e.jsx(P,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(q,{placeholder:"Search categories...",className:"pl-8 h-9",value:u,onChange:D})]}),e.jsx("div",{className:"flex gap-2 items-center",children:e.jsxs(I,{children:[e.jsx(W,{asChild:!0,children:e.jsxs(d,{variant:"outline",size:"sm",className:"gap-1 h-8",children:[e.jsx(T,{className:"h-3.5 w-3.5"}),e.jsx("span",{children:"Filter"})]})}),e.jsxs(O,{align:"end",className:"w-[200px]",children:[e.jsx(l,{children:"All Categories"}),e.jsx(l,{children:"Has Children"}),e.jsx(l,{children:"Without Parent"}),e.jsx(l,{children:"With Posts"}),e.jsx(R,{}),e.jsxs(l,{children:[e.jsx(N,{className:"mr-2 h-3.5 w-3.5"}),e.jsx("span",{children:"Sort by Name"})]}),e.jsxs(l,{children:[e.jsx(N,{className:"mr-2 h-3.5 w-3.5"}),e.jsx("span",{children:"Sort by Created"})]})]})]})})]})}),e.jsx(L,{className:"px-6",children:a.data.length>0?e.jsxs(G,{children:[e.jsx(U,{children:e.jsxs(v,{children:[e.jsx(i,{children:"Name"}),e.jsx(i,{children:"Parent"}),e.jsx(i,{children:"Posts"}),e.jsx(i,{children:"Children"}),e.jsx(i,{children:"Slug"}),e.jsx(i,{className:"w-[100px] text-right",children:"Actions"})]})}),e.jsx(J,{children:a.data.map(s=>e.jsxs(v,{children:[e.jsx(c,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(f,{className:"mr-2 w-4 h-4 text-primary/70"}),s.name]})}),e.jsx(c,{children:s.parent?e.jsxs("div",{className:"flex items-center",children:[e.jsx(k,{className:"mr-1 w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm",children:s.parent.name})]}):e.jsx(j,{variant:"outline",className:"font-normal bg-secondary/30",children:"None"})}),e.jsx(c,{children:e.jsx(j,{variant:"secondary",children:s.posts_count})}),e.jsx(c,{children:e.jsx(j,{variant:"secondary",children:s.children_count})}),e.jsx(c,{className:"text-sm text-muted-foreground",children:s.slug}),e.jsx(c,{className:"text-right",children:e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(d,{variant:"ghost",size:"icon",asChild:!0,className:"w-8 h-8",children:e.jsxs(h,{href:n("novus.categories.edit",s.id),children:[e.jsx(F,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Edit"})]})}),e.jsxs(d,{variant:"ghost",size:"icon",className:"w-8 h-8 text-destructive",onClick:()=>w(s),children:[e.jsx(_,{className:"w-4 h-4"}),e.jsx("span",{className:"sr-only",children:"Delete"})]})]})})]},s.id))})]}):e.jsx(ae,{icon:e.jsx(f,{className:"w-10 h-10"}),title:"No categories found",description:"Get started by creating your first category.",action:e.jsx(d,{asChild:!0,children:e.jsxs(h,{href:n("novus.categories.create"),children:[e.jsx(g,{className:"mr-2 w-4 h-4"}),"Create Category"]})}),className:"py-12"})}),a.data.length>0&&a.last_page>1&&e.jsxs(Q,{className:"flex justify-between items-center px-6 py-4 border-t",children:[e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing"," ",e.jsx("strong",{children:a.from})," to"," ",e.jsx("strong",{children:a.to})," of"," ",e.jsx("strong",{children:a.total})," ","categories"]}),e.jsx(re,{currentPage:a.current_page,lastPage:a.last_page,links:a.links,onPageChange:s=>m.get(n("novus.categories.index",{page:s}),{},{preserveState:!0})})]})]})]})}),e.jsx(K,{open:C,onOpenChange:o,children:e.jsxs(V,{children:[e.jsxs(X,{children:[e.jsx(Y,{children:"Are you sure?"}),e.jsxs(Z,{children:['This will permanently delete the category "',r==null?void 0:r.name,'".',(((r==null?void 0:r.posts_count)??0)>0||((r==null?void 0:r.children_count)??0)>0)&&e.jsx("div",{className:"mt-2 text-destructive",children:"Warning: This category has associated posts or child categories. Deleting it may affect your content structure."})]})]}),e.jsxs($,{children:[e.jsx(ee,{children:"Cancel"}),e.jsx(se,{onClick:y,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}export{ge as default};
