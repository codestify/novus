import{g as ue,j as e}from"./ui-vqqFfSzO.js";import{c as w,a as Q,D as Oe,k as we,f as Re,S as Ee,$ as _e,_ as Be,a0 as se,a1 as q,p as xe,a2 as fe,a3 as Fe,u as ze,a4 as $e,a5 as Ke,i as Ie,o as pe}from"./vendor-BFGeaHkk.js";import{S as We,a as Me,b as Ve,c as Ue,d as Ge}from"./select-ChQGh1Eh.js";import{u as Xe,A as He,C as b,d as N}from"./card-BRGifJVv.js";import{B as le}from"./button-BjyeRwdB.js";import{i as Ye,D as qe,f as Ze,E as Je,L as ae,a as Z,C as Qe,A as et,b as G,c as tt,d as ce,h as st,e as at,g as ke,u as rt,G as it,j as ge,k as Se,X as C,Y as O,l as Ae,B as de,R as _,m as B,T as F,n as K,o as nt,p as ot}from"./generateCategoricalChart-BEUxRce7.js";import{T as lt,a as ct,b as re,c as ie,d as dt,e as J}from"./table-C9QjicNN.js";import{T as mt,a as ht,b as ne,c as oe}from"./tabs-CjQQHpEZ.js";import"./app-DdvSH9Ox.js";var ut=["type","layout","connectNulls","ref"],xt=["key"];function I(t){"@babel/helpers - typeof";return I=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},I(t)}function je(t,s){if(t==null)return{};var a=ft(t,s),r,n;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(t);for(n=0;n<c.length;n++)r=c[n],!(s.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}function ft(t,s){if(t==null)return{};var a={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(s.indexOf(r)>=0)continue;a[r]=t[r]}return a}function H(){return H=Object.assign?Object.assign.bind():function(t){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var r in a)Object.prototype.hasOwnProperty.call(a,r)&&(t[r]=a[r])}return t},H.apply(this,arguments)}function ve(t,s){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);s&&(r=r.filter(function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable})),a.push.apply(a,r)}return a}function L(t){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?ve(Object(a),!0).forEach(function(r){D(t,r,a[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):ve(Object(a)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(a,r))})}return t}function $(t){return vt(t)||jt(t)||gt(t)||pt()}function pt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gt(t,s){if(t){if(typeof t=="string")return me(t,s);var a=Object.prototype.toString.call(t).slice(8,-1);if(a==="Object"&&t.constructor&&(a=t.constructor.name),a==="Map"||a==="Set")return Array.from(t);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return me(t,s)}}function jt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function vt(t){if(Array.isArray(t))return me(t)}function me(t,s){(s==null||s>t.length)&&(s=t.length);for(var a=0,r=new Array(s);a<s;a++)r[a]=t[a];return r}function yt(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function ye(t,s){for(var a=0;a<s.length;a++){var r=s[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,De(r.key),r)}}function bt(t,s,a){return s&&ye(t.prototype,s),a&&ye(t,a),Object.defineProperty(t,"prototype",{writable:!1}),t}function Nt(t,s,a){return s=ee(s),wt(t,Le()?Reflect.construct(s,a||[],ee(t).constructor):s.apply(t,a))}function wt(t,s){if(s&&(I(s)==="object"||typeof s=="function"))return s;if(s!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kt(t)}function kt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Le(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Le=function(){return!!t})()}function ee(t){return ee=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(a){return a.__proto__||Object.getPrototypeOf(a)},ee(t)}function St(t,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(s&&s.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),s&&he(t,s)}function he(t,s){return he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},he(t,s)}function D(t,s,a){return s=De(s),s in t?Object.defineProperty(t,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[s]=a,t}function De(t){var s=At(t,"string");return I(s)=="symbol"?s:s+""}function At(t,s){if(I(t)!="object"||!t)return t;var a=t[Symbol.toPrimitive];if(a!==void 0){var r=a.call(t,s);if(I(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var T=function(t){function s(){var a;yt(this,s);for(var r=arguments.length,n=new Array(r),c=0;c<r;c++)n[c]=arguments[c];return a=Nt(this,s,[].concat(n)),D(a,"state",{isAnimationFinished:!0,totalLength:0}),D(a,"generateSimpleStrokeDasharray",function(o,m){return"".concat(m,"px ").concat(o-m,"px")}),D(a,"getStrokeDasharray",function(o,m,l){var d=l.reduce(function(i,h){return i+h});if(!d)return a.generateSimpleStrokeDasharray(m,o);for(var x=Math.floor(o/d),g=o%d,f=m-o,p=[],u=0,j=0;u<l.length;j+=l[u],++u)if(j+l[u]>g){p=[].concat($(l.slice(0,u)),[g-j]);break}var k=p.length%2===0?[0,f]:[f];return[].concat($(s.repeat(l,x)),$(p),k).map(function(i){return"".concat(i,"px")}).join(", ")}),D(a,"id",rt("recharts-line-")),D(a,"pathRef",function(o){a.mainCurve=o}),D(a,"handleAnimationEnd",function(){a.setState({isAnimationFinished:!0}),a.props.onAnimationEnd&&a.props.onAnimationEnd()}),D(a,"handleAnimationStart",function(){a.setState({isAnimationFinished:!1}),a.props.onAnimationStart&&a.props.onAnimationStart()}),a}return St(s,t),bt(s,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,n){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var c=this.props,o=c.points,m=c.xAxis,l=c.yAxis,d=c.layout,x=c.children,g=Ze(x,Je);if(!g)return null;var f=function(j,k){return{x:j.x,y:j.y,value:j.value,errorVal:ke(j.payload,k)}},p={clipPath:r?"url(#clipPath-".concat(n,")"):null};return w.createElement(ae,p,g.map(function(u){return w.cloneElement(u,{key:"bar-".concat(u.props.dataKey),data:o,xAxis:m,yAxis:l,layout:d,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,n,c){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var m=this.props,l=m.dot,d=m.points,x=m.dataKey,g=Z(this.props,!1),f=Z(l,!0),p=d.map(function(j,k){var i=L(L(L({key:"dot-".concat(k),r:3},g),f),{},{index:k,cx:j.x,cy:j.y,value:j.value,dataKey:x,payload:j.payload,points:d});return s.renderDotItem(l,i)}),u={clipPath:r?"url(#clipPath-".concat(n?"":"dots-").concat(c,")"):null};return w.createElement(ae,H({className:"recharts-line-dots",key:"dots"},u),p)}},{key:"renderCurveStatically",value:function(r,n,c,o){var m=this.props,l=m.type,d=m.layout,x=m.connectNulls;m.ref;var g=je(m,ut),f=L(L(L({},Z(g,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:n?"url(#clipPath-".concat(c,")"):null,points:r},o),{},{type:l,layout:d,connectNulls:x});return w.createElement(Qe,H({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,n){var c=this,o=this.props,m=o.points,l=o.strokeDasharray,d=o.isAnimationActive,x=o.animationBegin,g=o.animationDuration,f=o.animationEasing,p=o.animationId,u=o.animateNewValues,j=o.width,k=o.height,i=this.state,h=i.prevPoints,v=i.totalLength;return w.createElement(et,{begin:x,duration:g,isActive:d,easing:f,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var S=y.t;if(h){var R=h.length/m.length,P=m.map(function(A,te){var V=Math.floor(te*R);if(h[V]){var U=h[V],z=G(U.x,A.x),Te=G(U.y,A.y);return L(L({},A),{},{x:z(S),y:Te(S)})}if(u){var Pe=G(j*2,A.x),Ce=G(k/2,A.y);return L(L({},A),{},{x:Pe(S),y:Ce(S)})}return L(L({},A),{},{x:A.x,y:A.y})});return c.renderCurveStatically(P,r,n)}var E=G(0,v),W=E(S),M;if(l){var Y="".concat(l).split(/[,\s]+/gim).map(function(A){return parseFloat(A)});M=c.getStrokeDasharray(W,v,Y)}else M=c.generateSimpleStrokeDasharray(v,W);return c.renderCurveStatically(m,r,n,{strokeDasharray:M})})}},{key:"renderCurve",value:function(r,n){var c=this.props,o=c.points,m=c.isAnimationActive,l=this.state,d=l.prevPoints,x=l.totalLength;return m&&o&&o.length&&(!d&&x>0||!tt(d,o))?this.renderCurveWithAnimation(r,n):this.renderCurveStatically(o,r,n)}},{key:"render",value:function(){var r,n=this.props,c=n.hide,o=n.dot,m=n.points,l=n.className,d=n.xAxis,x=n.yAxis,g=n.top,f=n.left,p=n.width,u=n.height,j=n.isAnimationActive,k=n.id;if(c||!m||!m.length)return null;var i=this.state.isAnimationFinished,h=m.length===1,v=ue("recharts-line",l),y=d&&d.allowDataOverflow,S=x&&x.allowDataOverflow,R=y||S,P=ce(k)?this.id:k,E=(r=Z(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},W=E.r,M=W===void 0?3:W,Y=E.strokeWidth,A=Y===void 0?2:Y,te=st(o)?o:{},V=te.clipDot,U=V===void 0?!0:V,z=M*2+A;return w.createElement(ae,{className:v},y||S?w.createElement("defs",null,w.createElement("clipPath",{id:"clipPath-".concat(P)},w.createElement("rect",{x:y?f:f-p/2,y:S?g:g-u/2,width:y?p:p*2,height:S?u:u*2})),!U&&w.createElement("clipPath",{id:"clipPath-dots-".concat(P)},w.createElement("rect",{x:f-z/2,y:g-z/2,width:p+z,height:u+z}))):null,!h&&this.renderCurve(R,P),this.renderErrorBar(R,P),(h||o)&&this.renderDots(R,U,P),(!j||i)&&at.renderCallByParent(this.props,m))}}],[{key:"getDerivedStateFromProps",value:function(r,n){return r.animationId!==n.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:n.curPoints}:r.points!==n.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,n){for(var c=r.length%2!==0?[].concat($(r),[0]):r,o=[],m=0;m<n;++m)o=[].concat($(o),$(c));return o}},{key:"renderDotItem",value:function(r,n){var c;if(w.isValidElement(r))c=w.cloneElement(r,n);else if(Ye(r))c=r(n);else{var o=n.key,m=je(n,xt),l=ue("recharts-line-dot",typeof r!="boolean"?r.className:"");c=w.createElement(qe,H({key:o},m,{className:l}))}return c}}])}(Q.PureComponent);D(T,"displayName","Line");D(T,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!it.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});D(T,"getComposedData",function(t){var s=t.props,a=t.xAxis,r=t.yAxis,n=t.xAxisTicks,c=t.yAxisTicks,o=t.dataKey,m=t.bandSize,l=t.displayedData,d=t.offset,x=s.layout,g=l.map(function(f,p){var u=ke(f,o);return x==="horizontal"?{x:ge({axis:a,ticks:n,bandSize:m,entry:f,index:p}),y:ce(u)?null:r.scale(u),value:u,payload:f}:{x:ce(u)?null:a.scale(u),y:ge({axis:r,ticks:c,bandSize:m,entry:f,index:p}),value:u,payload:f}});return L({points:g,layout:x},d)});var X=Se({chartName:"LineChart",GraphicalChild:T,axisComponents:[{axisType:"xAxis",AxisComp:C},{axisType:"yAxis",AxisComp:O}],formatAxisMap:Ae}),be=Se({chartName:"BarChart",GraphicalChild:de,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:C},{axisType:"yAxis",AxisComp:O}],formatAxisMap:Ae});const Ne=({data:t,title:s,description:a,height:r=300})=>{const n=l=>new Date(l).toLocaleDateString("en-US",{month:"short",day:"numeric"}),c=l=>{const d=new Date(l);return t.length>30?d.getDate()%5!==0?"":d.toLocaleDateString("en-US",{day:"numeric",month:"short"}):t.length>14?d.getDate()%3!==0?"":d.toLocaleDateString("en-US",{day:"numeric",month:"short"}):d.toLocaleDateString("en-US",{day:"numeric"})},o=t.length?t.reduce((l,d)=>l+d.bounceRate,0)/t.length:0,m=({active:l,payload:d,label:x})=>l&&d&&d.length?e.jsxs("div",{className:"bg-background p-3 border rounded-lg shadow-sm",children:[e.jsx("p",{className:"font-medium",children:n(x||"")}),e.jsx("div",{className:"mt-2 space-y-1",children:e.jsxs("p",{className:"text-sm flex items-center",children:[e.jsx("span",{className:"w-3 h-3 bg-orange-500 inline-block mr-2 rounded-full"}),e.jsx("span",{className:"text-muted-foreground mr-2",children:"Bounce Rate:"}),e.jsxs("span",{className:"font-medium",children:[d[0].value.toFixed(1),"%"]})]})})]}):null;return e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:s}),a&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a})]}),e.jsx("div",{style:{height:`${r}px`},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(X,{data:t,margin:{top:10,right:10,left:10,bottom:25},children:[e.jsx(B,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),e.jsx(C,{dataKey:"date",tickFormatter:c,axisLine:!1,tickLine:!1,dy:10,tick:{fontSize:12}}),e.jsx(O,{axisLine:!1,tickLine:!1,domain:[0,100],tickFormatter:l=>`${l}%`,width:50,tick:{fontSize:12}}),e.jsx(F,{content:e.jsx(m,{})}),e.jsx(K,{y:o,stroke:"#6b7280",strokeDasharray:"3 3",strokeWidth:2,label:{value:`Avg: ${o.toFixed(1)}%`,position:"insideBottomRight",fill:"#6b7280",fontSize:12}}),e.jsx(T,{type:"monotone",dataKey:"bounceRate",stroke:"#f97316",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#f97316"}})]})})}),e.jsxs("div",{className:"mt-2 text-xs text-center text-muted-foreground",children:["Average Bounce Rate:"," ",e.jsxs("span",{className:"font-medium",children:[o.toFixed(1),"%"]})]})]})},Lt=({data:t,title:s,description:a,showViewAll:r=!1,viewAllAction:n,exportAction:c})=>{const o=t.reduce((l,d)=>l+d.sessions,0),m=t.some(l=>l.keyword.toLowerCase().includes("(not provided)")||l.keyword.toLowerCase().includes("(not set)"));return e.jsxs("div",{children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:s}),a&&e.jsx("p",{className:"text-sm text-muted-foreground",children:a})]}),c&&e.jsxs(le,{variant:"outline",size:"sm",onClick:c,children:[e.jsx(Oe,{className:"mr-2 h-4 w-4"}),"Export"]})]}),m&&e.jsx("div",{className:"mb-4 p-3 bg-amber-50 border border-amber-200 rounded-md text-sm text-amber-700",children:e.jsx("p",{children:'Some keyword data may appear as "(not provided)" due to search engine privacy policies. This is normal and affects all websites using Google Analytics.'})}),e.jsx("div",{className:"border rounded-md",children:e.jsxs(lt,{children:[e.jsx(ct,{children:e.jsxs(re,{children:[e.jsx(ie,{children:"Keyword"}),e.jsx(ie,{className:"text-right",children:"Sessions"}),e.jsx(ie,{className:"text-right",children:"% of Total"})]})}),e.jsx(dt,{children:t.length>0?t.map((l,d)=>e.jsxs(re,{children:[e.jsx(J,{className:"font-medium",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(we,{className:"h-3.5 w-3.5 mr-2 text-muted-foreground"}),e.jsx("span",{className:l.keyword.includes("(not")?"text-muted-foreground italic":"",children:l.keyword})]})}),e.jsx(J,{className:"text-right",children:l.sessions.toLocaleString()}),e.jsxs(J,{className:"text-right",children:[(l.sessions/o*100).toFixed(1),"%"]})]},d)):e.jsx(re,{children:e.jsx(J,{colSpan:3,className:"text-center py-6 text-muted-foreground",children:"No keyword data available"})})})]})}),r&&n&&e.jsx("div",{className:"mt-4 text-right",children:e.jsxs(le,{variant:"ghost",size:"sm",onClick:n,children:["View all keywords",e.jsx(Re,{className:"ml-1 h-4 w-4"})]})})]})},Dt=[{value:"7",label:"Last 7 days"},{value:"30",label:"Last 30 days"},{value:"60",label:"Last 60 days"},{value:"90",label:"Last 90 days"},{value:"180",label:"Last 6 months"},{value:"365",label:"Last year"}],zt=()=>{const t=Xe(),{performanceData:s,seoData:a}=t.props,[r,n]=Q.useState(s.period),[c,o]=Q.useState(!1),[m,l]=Q.useState("overview"),d=i=>new Date(i).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}),x={start:d(new Date(Date.now()-parseInt(r)*24*60*60*1e3).toISOString()),end:d(new Date().toISOString())},g=i=>{n(i),pe.visit(window.location.pathname,{data:{period:i},preserveState:!0,only:["performanceData","seoData"]})},f=()=>{o(!0),pe.reload({onSuccess:()=>{o(!1)},onError:()=>{o(!1)}})},p=i=>new Date(i).toLocaleDateString("en-US",{day:"numeric"}),u=({active:i,payload:h,label:v})=>i&&h&&h.length?e.jsxs("div",{className:"p-3 rounded-lg border shadow-sm bg-background",children:[e.jsx("p",{className:"font-medium",children:d(v)}),e.jsx("div",{className:"mt-2 space-y-1",children:e.jsxs("p",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"inline-block mr-2 w-3 h-3 bg-blue-500 rounded-full"}),e.jsx("span",{className:"mr-2 text-muted-foreground",children:"Load Time:"}),e.jsxs("span",{className:"font-medium",children:[h[0].value," seconds"]})]})})]}):null,j=({active:i,payload:h,label:v})=>i&&h&&h.length?e.jsxs("div",{className:"p-3 rounded-lg border shadow-sm bg-background",children:[e.jsx("p",{className:"font-medium",children:d(v)}),e.jsx("div",{className:"mt-2 space-y-1",children:e.jsxs("p",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"inline-block mr-2 w-3 h-3 bg-green-500 rounded-full"}),e.jsx("span",{className:"mr-2 text-muted-foreground",children:"Click-Through Rate:"}),e.jsxs("span",{className:"font-medium",children:[h[0].value,"%"]})]})})]}):null,k=({active:i,payload:h,label:v})=>i&&h&&h.length?e.jsxs("div",{className:"p-3 rounded-lg border shadow-sm bg-background",children:[e.jsx("p",{className:"font-medium",children:d(v)}),e.jsx("div",{className:"mt-2 space-y-1",children:h.map((y,S)=>e.jsxs("p",{className:"flex items-center text-sm",children:[e.jsx("span",{className:"inline-block mr-2 w-3 h-3 rounded-full",style:{backgroundColor:y.color}}),e.jsxs("span",{className:"mr-2 text-muted-foreground",children:[y.name,":"]}),e.jsxs("span",{className:"font-medium",children:[y.value.toLocaleString()," visits"]})]},S))})]}):null;return e.jsxs(He,{children:[e.jsx(Ee,{title:"Site Performance"}),e.jsxs("div",{className:"py-20 max-w-[1400px] mx-auto px-4 sm:px-6",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Site Performance"}),e.jsx("p",{className:"mt-1 text-muted-foreground",children:"Analyze website performance, user behavior, and search visibility metrics"})]}),e.jsxs("div",{className:"flex flex-wrap gap-2 items-center mt-4 sm:mt-0",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(_e,{className:"mr-2 w-4 h-4 text-muted-foreground"}),e.jsxs(We,{value:r,onValueChange:g,children:[e.jsx(Me,{className:"w-[180px]",children:e.jsx(Ve,{placeholder:"Select period"})}),e.jsx(Ue,{children:Dt.map(i=>e.jsx(Ge,{value:i.value,children:i.label},i.value))})]})]}),e.jsxs(le,{variant:"outline",size:"sm",onClick:f,disabled:c,children:[e.jsx(Be,{className:`mr-2 h-4 w-4 ${c?"animate-spin":""}`}),"Refresh"]})]})]}),e.jsxs("div",{className:"p-2 mt-4 text-sm rounded-md bg-muted/50 text-muted-foreground",children:["Showing data from ",x.start," to"," ",x.end]})]}),e.jsxs(mt,{value:m,onValueChange:l,className:"space-y-8",children:[e.jsxs(ht,{className:"grid grid-cols-2 w-full sm:w-auto sm:inline-flex sm:grid-cols-none",children:[e.jsx(ne,{value:"overview",children:"Overview"}),e.jsx(ne,{value:"performance",children:"Page Performance"}),e.jsx(ne,{value:"seo",children:"SEO Metrics"})]}),e.jsxs(oe,{value:"overview",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4",children:[e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Page Load Time"}),e.jsxs("div",{className:"flex gap-2 items-baseline",children:[e.jsxs("h3",{className:"text-2xl font-bold",children:[s.performanceSummary.avgPageLoadTime,"s"]}),e.jsxs("span",{className:`text-xs flex items-center ${s.performanceSummary.pageLoadTimeChange<0?"text-green-500":"text-red-500"}`,children:[s.performanceSummary.pageLoadTimeChange<0?e.jsx(se,{className:"h-3 w-3 mr-0.5"}):e.jsx(q,{className:"h-3 w-3 mr-0.5"}),Math.abs(s.performanceSummary.pageLoadTimeChange),"%"]})]})]}),e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(xe,{className:"w-5 h-5 text-primary"})})]})})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Bounce Rate"}),e.jsxs("div",{className:"flex gap-2 items-baseline",children:[e.jsxs("h3",{className:"text-2xl font-bold",children:[s.performanceSummary.avgBounceRate,"%"]}),e.jsxs("span",{className:`text-xs flex items-center ${s.performanceSummary.bounceRateChange<0?"text-green-500":"text-red-500"}`,children:[s.performanceSummary.bounceRateChange<0?e.jsx(se,{className:"h-3 w-3 mr-0.5"}):e.jsx(q,{className:"h-3 w-3 mr-0.5"}),Math.abs(s.performanceSummary.bounceRateChange),"%"]})]})]}),e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(fe,{className:"w-5 h-5 text-primary"})})]})})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Click-Through Rate"}),e.jsxs("div",{className:"flex gap-2 items-baseline",children:[e.jsxs("h3",{className:"text-2xl font-bold",children:[a.seoSummary.avgCtr,"%"]}),e.jsxs("span",{className:`text-xs flex items-center ${a.seoSummary.ctrChange>=0?"text-green-500":"text-red-500"}`,children:[a.seoSummary.ctrChange>=0?e.jsx(q,{className:"h-3 w-3 mr-0.5"}):e.jsx(se,{className:"h-3 w-3 mr-0.5"}),Math.abs(a.seoSummary.ctrChange),"%"]})]})]}),e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(Fe,{className:"w-5 h-5 text-primary"})})]})})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("p",{className:"mb-1 text-sm font-medium text-muted-foreground",children:"Organic Traffic"}),e.jsxs("div",{className:"flex gap-2 items-baseline",children:[e.jsxs("h3",{className:"text-2xl font-bold",children:[(a.seoSummary.totalOrganicTraffic/1e3).toFixed(1),"k"]}),e.jsxs("span",{className:`text-xs flex items-center ${a.seoSummary.organicTrafficChange>=0?"text-green-500":"text-red-500"}`,children:[a.seoSummary.organicTrafficChange>=0?e.jsx(ze,{className:"h-3 w-3 mr-0.5"}):e.jsx($e,{className:"h-3 w-3 mr-0.5"}),Math.abs(a.seoSummary.organicTrafficChange),"%"]})]})]}),e.jsx("div",{className:"p-2 rounded-full bg-primary/10",children:e.jsx(we,{className:"w-5 h-5 text-primary"})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Load Time"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Average time it takes to load your pages"})]}),e.jsx("div",{style:{height:"250px"},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(X,{data:s.pageLoadTime,margin:{top:10,right:10,left:10,bottom:25},children:[e.jsx(B,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),e.jsx(C,{dataKey:"date",tickFormatter:p,axisLine:!1,tickLine:!1,dy:10,tick:{fontSize:12}}),e.jsx(O,{axisLine:!1,tickLine:!1,width:40,tick:{fontSize:12},tickFormatter:i=>`${i}s`,domain:[0,"dataMax + 0.5"]}),e.jsx(F,{content:e.jsx(u,{})}),e.jsx(T,{type:"monotone",dataKey:"loadTime",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#3b82f6"}}),e.jsx(K,{y:2.5,stroke:"#f97316",strokeDasharray:"3 3",label:{value:"Target: 2.5s",position:"insideBottomRight",fill:"#f97316",fontSize:12}})]})})})]})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsx(Ne,{data:s.bounceRate,title:"Bounce Rate Trend",description:"Percentage of visitors who navigate away after viewing only one page",height:250})})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 md:grid-cols-2",children:[e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Click-Through Rate Trend"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Percentage of search impressions that resulted in clicks"})]}),e.jsx("div",{style:{height:"250px"},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(X,{data:a.clickThroughRate,margin:{top:10,right:10,left:10,bottom:25},children:[e.jsx(B,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),e.jsx(C,{dataKey:"date",tickFormatter:p,axisLine:!1,tickLine:!1,dy:10,tick:{fontSize:12}}),e.jsx(O,{axisLine:!1,tickLine:!1,width:40,tick:{fontSize:12},tickFormatter:i=>`${i}%`,domain:[0,"dataMax + 1"]}),e.jsx(F,{content:e.jsx(j,{})}),e.jsx(T,{type:"monotone",dataKey:"ctr",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#10b981"}}),e.jsx(K,{y:3.5,stroke:"#8b5cf6",strokeDasharray:"3 3",label:{value:"Avg: 3.5%",position:"insideBottomRight",fill:"#8b5cf6",fontSize:12}})]})})})]})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Device Categories"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Sessions by device type"})]}),e.jsx("div",{style:{height:"250px"},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(be,{data:s.deviceCategories,margin:{top:10,right:10,left:10,bottom:25},layout:"vertical",children:[e.jsx(B,{strokeDasharray:"3 3",horizontal:!0,vertical:!1,opacity:.3}),e.jsx(C,{type:"number",axisLine:!1,tickLine:!1,tick:{fontSize:12},tickFormatter:i=>i.toLocaleString()}),e.jsx(O,{dataKey:"name",type:"category",axisLine:!1,tickLine:!1,width:80,tick:{fontSize:12}}),e.jsx(F,{formatter:i=>[i.toLocaleString(),"Sessions"],labelFormatter:i=>`Device: ${i}`}),e.jsx(de,{dataKey:"sessions",name:"Sessions",radius:[0,4,4,0],children:s.deviceCategories.map((i,h)=>{const v=["#3b82f6","#f97316","#8b5cf6"];return e.jsx(nt,{fill:v[h%v.length]},`cell-${h}`)})})]})})}),e.jsx("div",{className:"flex flex-wrap gap-y-2 gap-x-6 justify-center mt-4 text-sm",children:Object.entries(s.performanceSummary.deviceDistribution).map(([i,h],v)=>{const y=["bg-blue-500","bg-orange-500","bg-purple-500"];return e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-3 h-3 rounded-full mr-2 ${y[v%y.length]}`}),e.jsx("span",{children:i}),e.jsxs("span",{className:"ml-2 text-muted-foreground",children:[h.percentage,"%"]})]},i)})})]})})]})]}),e.jsxs(oe,{value:"performance",className:"space-y-6",children:[e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Page Load Time"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Detailed view of page load times over the selected period"})]}),e.jsx("div",{style:{height:"350px"},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(X,{data:s.pageLoadTime,margin:{top:10,right:10,left:10,bottom:25},children:[e.jsx(B,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),e.jsx(C,{dataKey:"date",tickFormatter:p,axisLine:!1,tickLine:!1,dy:10,tick:{fontSize:12}}),e.jsx(O,{axisLine:!1,tickLine:!1,width:60,tick:{fontSize:12},tickFormatter:i=>`${i}s`,domain:[0,"dataMax + 0.5"]}),e.jsx(F,{content:e.jsx(u,{})}),e.jsx(T,{type:"monotone",dataKey:"loadTime",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#3b82f6"}}),e.jsx(K,{y:1.5,stroke:"#10b981",strokeDasharray:"3 3",label:{value:"Excellent: 1.5s",position:"insideBottomRight",fill:"#10b981",fontSize:12}}),e.jsx(K,{y:2.5,stroke:"#f97316",strokeDasharray:"3 3",label:{value:"Good: 2.5s",position:"insideTopRight",fill:"#f97316",fontSize:12}}),e.jsx(K,{y:4,stroke:"#ef4444",strokeDasharray:"3 3",label:{value:"Poor: 4s",position:"insideTopRight",fill:"#ef4444",fontSize:12}})]})})})]})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsx(Ne,{data:s.bounceRate,title:"Bounce Rate Analysis",description:"Detailed breakdown of bounce rates with industry benchmarks",height:350})})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"mb-4 text-lg font-semibold",children:"Device Performance Metrics"}),s&&s.devicePerformance&&s.devicePerformance.length>0?e.jsx("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2 lg:grid-cols-3",children:s.devicePerformance.map((i,h)=>{var P,E;if(!i)return null;const v=["bg-blue-500 border-blue-500 text-blue-500","bg-orange-500 border-orange-500 text-orange-500","bg-purple-500 border-purple-500 text-purple-500"],[y,S,R]=v[h%v.length].split(" ");return e.jsx(b,{className:"rounded-md transition-shadow hover:shadow-md",children:e.jsxs(N,{className:"p-5",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`mr-2 w-3 h-3 rounded-full ${y}`}),e.jsx("h4",{className:`font-semibold ${R}`,children:i.device})]}),e.jsxs("span",{className:"px-2 py-1 text-sm font-medium rounded-full bg-muted",children:[i.percentage,"% of traffic"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-md bg-muted/50",children:[e.jsxs("span",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(xe,{className:"h-3.5 w-3.5 mr-2 opacity-70"}),"Avg. Page Load"]}),e.jsxs("span",{className:"text-sm font-medium",children:[i.pageLoadTime,"s",h>0&&((E=(P=s.devicePerformance)==null?void 0:P[0])==null?void 0:E.pageLoadTime)&&i.pageLoadTime>s.devicePerformance[0].pageLoadTime&&e.jsxs("span",{className:"ml-2 text-amber-500",children:[e.jsx(q,{className:"inline w-3 h-3"}),(i.pageLoadTime-s.devicePerformance[0].pageLoadTime).toFixed(1),"s"]})]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-md bg-muted/50",children:[e.jsxs("span",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(fe,{className:"h-3.5 w-3.5 mr-2 opacity-70"}),"Bounce Rate"]}),e.jsxs("span",{className:`text-sm font-medium ${i.bounceRate>40?"text-amber-600":"text-green-600"}`,children:[i.bounceRate,"%"]})]}),e.jsxs("div",{className:"flex justify-between items-center p-2 rounded-md bg-muted/50",children:[e.jsxs("span",{className:"flex items-center text-sm text-muted-foreground",children:[e.jsx(Ke,{className:"h-3.5 w-3.5 mr-2 opacity-70"}),"Conversion Rate"]}),e.jsxs("span",{className:`text-sm font-medium ${i.conversionRate<2?"text-amber-600":"text-green-600"}`,children:[i.conversionRate,"%"]})]})]})]})},i.device)})}):e.jsx("div",{className:"p-8 text-center rounded-md border border-dashed",children:e.jsx("p",{className:"text-muted-foreground",children:"No device performance data available."})})]})]}),e.jsxs(oe,{value:"seo",className:"space-y-6",children:[e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Organic Traffic Sources"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Breakdown of traffic by source over time"})]}),e.jsx("div",{style:{height:"350px"},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(X,{data:a.searchVisits,margin:{top:10,right:10,left:10,bottom:25},children:[e.jsx(B,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),e.jsx(C,{dataKey:"date",tickFormatter:p,axisLine:!1,tickLine:!1,dy:10,tick:{fontSize:12}}),e.jsx(O,{axisLine:!1,tickLine:!1,width:60,tick:{fontSize:12},tickFormatter:i=>i.toLocaleString()}),e.jsx(F,{content:e.jsx(k,{})}),e.jsx(ot,{}),e.jsx(T,{type:"monotone",dataKey:"organic",name:"Organic",stroke:"#10b981",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#10b981"}}),e.jsx(T,{type:"monotone",dataKey:"direct",name:"Direct",stroke:"#3b82f6",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#3b82f6"}}),e.jsx(T,{type:"monotone",dataKey:"referral",name:"Referral",stroke:"#8b5cf6",strokeWidth:2,dot:!1,activeDot:{r:6,fill:"#8b5cf6"}})]})})})]})}),e.jsxs("div",{className:"grid grid-cols-1 gap-6 lg:grid-cols-2",children:[e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsx(N,{className:"p-6",children:e.jsx(Lt,{data:a.keywords,title:"Search Keywords",description:"Keywords driving traffic to your site"})})}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Search Engine Distribution"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Visits by search engine"})]}),a&&a.searchEngines&&a.searchEngines.length>0?e.jsx("div",{style:{height:"300px"},children:e.jsx(_,{width:"100%",height:"100%",children:e.jsxs(be,{data:a.searchEngines,margin:{top:10,right:10,left:10,bottom:25},children:[e.jsx(B,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),e.jsx(C,{dataKey:"engine",axisLine:!1,tickLine:!1,dy:10,tick:{fontSize:12}}),e.jsx(O,{axisLine:!1,tickLine:!1,width:60,tick:{fontSize:12},tickFormatter:i=>i.toLocaleString()}),e.jsx(F,{formatter:i=>[i.toLocaleString(),"Visits"],labelFormatter:i=>`Search Engine: ${i}`}),e.jsx(de,{dataKey:"visits",name:"Visits",fill:"#10b981",radius:[4,4,0,0]})]})})}):e.jsx("div",{className:"flex justify-center items-center rounded-md border border-dashed",style:{height:"300px"},children:e.jsx("p",{className:"text-muted-foreground",children:"No search engine data available."})})]})})]}),e.jsx(b,{className:"rounded-md border-muted shadow-xs",children:e.jsxs(N,{className:"p-6",children:[e.jsx("div",{className:"flex justify-between items-start mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Top Landing Pages"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Pages that users enter your site through"})]})}),a&&a.landingPages&&a.landingPages.length>0?e.jsx("div",{className:"rounded-md border",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"p-3 text-sm font-medium text-left",children:"Page"}),e.jsx("th",{className:"p-3 text-sm font-medium text-right",children:"Entrances"}),e.jsx("th",{className:"p-3 text-sm font-medium text-right",children:"Bounce Rate"})]})}),e.jsx("tbody",{children:a.landingPages.map((i,h)=>e.jsxs("tr",{className:"border-t",children:[e.jsx("td",{className:"p-3 text-sm",children:e.jsxs("div",{className:"flex items-center max-w-[220px]",children:[e.jsx("span",{className:"truncate",title:i.url,children:i.url}),e.jsx("a",{href:i.url,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 ml-2 transition-colors text-muted-foreground hover:text-primary",children:e.jsx(Ie,{className:"h-3.5 w-3.5"})})]})}),e.jsx("td",{className:"p-3 text-sm text-right",children:i.entrances.toLocaleString()}),e.jsx("td",{className:"p-3 text-sm text-right",children:e.jsxs("span",{className:i.bounceRate>40?"text-amber-600":"text-green-600",children:[i.bounceRate,"%"]})})]},h))})]})}):e.jsx("div",{className:"p-8 text-center rounded-md border border-dashed",children:e.jsx("p",{className:"text-muted-foreground",children:"No landing page data available."})})]})})]})]})]})]})};export{zt as default};
